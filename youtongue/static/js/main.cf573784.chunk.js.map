{"version":3,"sources":["model/Channel.ts","services/LanguageService.ts","model/Subtitle.ts","assets/icons/check_circle_outline_black_24dp.svg","services/Context.ts","assets/icons/close_white.svg","components/language/Language.tsx","components/item/Item.tsx","components/loader/Loader.tsx","components/resultList/ResultList.tsx","assets/icons/search_black_24dp.svg","assets/icons/close_black_24dp.svg","components/scrollbar/Scrollbar.tsx","components/languages-popup/LanguagesPopup.tsx","assets/logo/youtongue_text.svg","services/SearchService.ts","assets/icons/arrow-down.svg","components/language-option/LanguageOption.tsx","components/languages-list/LanguagesList.tsx","assets/icons/arrow-right.svg","assets/icons/arrow-left.svg","components/selected-languages/SelectedLanguages.tsx","components/searchBar/searchBar.tsx","assets/logo/youtongue.svg","components/placeholder/Placeholder.tsx","components/app/App.tsx","index.tsx"],"names":["Channel","channelPicture","name","certified","_picture","_name","_certified","this","picture","getLanguage","bcp47","i","languagesAndCountries","length","toLowerCase","Subtitle","language","split","_language","_bcp47","_flag","iso3166","bcp47ToIso3166","flag","defaultValue","languages_bcp47","loading","displayWelcomeScreen","Context","React","createContext","Language","props","element","flagWrapper","text","createRef","loadEvents","loadStyle","className","ref","src","alt","el","current","undefined","addEventListener","classList","contains","context","filter","item","includes","push","event","CustomEvent","document","dispatchEvent","style","backgroundColor","innerText","color","Cross","width","add","remove","Component","contextType","Item","duration","stringDate","views","getMinutes","getSeconds","toLocaleString","minimumIntegerDigits","useGrouping","Date","getFullYear","date","Math","trunc","certifIcon","channel","verifiedIcon","href","id","target","rel","backgroundImage","thumbnail","title","description","subtitles","map","subtitle","Loader","randomMessage","message","generateRandomMessage","hours","getHours","floor","random","ResultList","results","state","e","detail","concat","setState","result","sub","Scrollbar","wrapper","wrapperWrapper","scrollbar","y","previousScrollY","touchThrottle","wheelListener","preventDefault","scroll","deltaY","scrollListener","window","setTimeout","touches","clientY","removeEventListener","listener","onMouseMove","bind","passive","marginTop","updateList","gap","offsetY","yIndex","shift","isShift","getComputedStyle","getPropertyValue","newMargin","parseInt","clientHeight","getRenderedHeightList","popup","getElementById","header","list","items","querySelectorAll","nbRows","listStyle","listRowGap","itemHeight","height","heightScrollbar","coeff","transform","LanguagesPopup","allSubtitles","closeButton","inputField","res","getAllLanguages","show","handlePopupDisplay","searchLanguages","tmp","startsWith","value","autoComplete","type","placeholder","CloseIcon","SearchService","MAX_REQUEST","youtubeAPIKey","urlSearchRequest","urlCaptionsRequest","urlVideoRequest","query","replaceAll","fetch","queryResponse","json","searchDatas","getVideoInfo","videoId","videoInfo","fetchCaptions","then","captions","videoConcerned","snippet","isSubtitle","dateString","publishTime","timeString","setHours","setMinutes","setSeconds","channelTitle","thumbnails","medium","url","searchEvent","caption","some","r","indexOf","videoInfoRequest","contentDetails","time","minutes","seconds","minutesBis","isNaN","statistics","viewCount","searchService","LanguageOption","LanguagesList","headerList","listOpen","getMostSpokenLanguages","languagesList","ArrowDown","SelectedLanguages","listWrapper","slideIndex","previousShift","numberOfItems","displayAll","children","listLength","widthLanguage","outerWidth","maxShift","clientWidth","offsetWidth","marginLeft","marginRight","slideRight","slide","getMaxShift","arrowLeft","arrowRight","ArrowLeft","onClick","slideLeft","ArrowRight","SearchBar","more","input","displayPopup","waitForSearch","body","overflow","animateWelcomeScreen","clearTimeout","search","LogoText","MagnifyingGlass","Header","Logo","App","display","resultList","Placeholder","Provider","ReactDOM","render","StrictMode"],"mappings":"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","file":"static/js/main.cf573784.chunk.js","sourcesContent":["import { IChannel } from \"./Format\";\n\nclass Channel {\n  private _picture: string;\n  private _name: string;\n  private _certified: boolean;\n\n  constructor (channelPicture: string, name: string, certified: boolean) {\n    this.picture = channelPicture;\n    this.name = name;\n    this.certified = certified;\n  }\n\n  public getInfo (): IChannel {\n    return {\n      name: this.name,\n      channelPicture: this.picture,\n      certified: this.certified\n    }\n  }\n\n  public get picture () {\n    return this._picture;\n  }\n\n  public set picture (picture: string) {\n    this._picture = picture;\n  }\n\n  public get name () {\n    return this._name;\n  }\n\n  public set name (name: string) {\n    this._name = name;\n  }\n\n  public get certified () {\n    return this._certified;\n  }\n\n  public set certified (certified: boolean) {\n    this._certified = certified;\n  }\n\n\n}\n\nexport default Channel;","import languagesAndCountries from 'assets/data/languages-countries.json';\nimport Subtitle from '../model/Subtitle';\n\nexport function bcp47ToIso3166 (bcp47: string): string {\n  for (let i = 0; i < languagesAndCountries.length; i++) {\n    if (languagesAndCountries[i].bcp47 === bcp47) {\n      return languagesAndCountries[i].iso3166;\n    }\n  }\n  return '';\n}\n\nexport function getLanguage (bcp47: string): Subtitle {\n  for (let i = 0; i < languagesAndCountries.length; i++) {\n    if (languagesAndCountries[i].bcp47.toLowerCase() === bcp47.toLowerCase()) {\n      return new Subtitle(languagesAndCountries[i].language.split(';')[0], languagesAndCountries[i].bcp47);\n    }\n  }\n  return new Subtitle('unknown', 'unknown');\n}\n\nexport function getMostSpokenLanguages (): Subtitle[] {\n  const mostSpokenBcp47: string[] = [\n    'en',\n    'zh',\n    'hi',\n    'es',\n    'fr'\n  ]\n  const res: Subtitle[] = []\n  for (const language of mostSpokenBcp47) {\n    res.push(getLanguage(language));\n  }\n  return res;\n}\n\nexport function getAllLanguages (): Subtitle[] {\n  let res: Subtitle[] = [];\n  for (let i = 0; i < languagesAndCountries.length; i++) {\n    if (languagesAndCountries[i].iso3166 !== '') {\n      res.push(new Subtitle(languagesAndCountries[i].language.split(';')[0], languagesAndCountries[i].bcp47));\n    }\n  }\n  return res;\n} ","import { ISubtitle } from \"./Format\";\nimport { bcp47ToIso3166 } from 'services/LanguageService';\n\nclass Subtitle {\n  private _language: string;\n  private _bcp47: string;\n  private _flag: string;\n  \n\n  constructor(language: string, bcp47: string) {\n    this._language = language;\n    this._bcp47 = bcp47;\n    this._flag = \"https://flagcdn.com/w320/\" + bcp47ToIso3166(this.bcp47).toLowerCase() + \".png\"\n  }\n\n  public getInfo(): ISubtitle {\n    return {\n      language: this.language,\n      bcp47: this.bcp47,\n      flag: this.flag\n    }\n  }\n\n  public get language () {\n    return this._language;\n  }\n\n  public set language (language: string) {\n    this._language = language;\n  }\n\n  public get bcp47 () {\n    return this._bcp47;\n  }\n\n  public set bcp47 (bcp47: string) {\n    this._bcp47 = bcp47;\n  }\n\n  public get flag () {\n    return this._flag;\n  }\n\n  public set flag (flag: string) {\n    this._flag = flag;\n  }\n}\n\nexport default Subtitle;","export default __webpack_public_path__ + \"static/media/check_circle_outline_black_24dp.f79b114b.svg\";","import React from 'react';\n\n\n\ninterface ArrayContext {\n  languages_bcp47: string[],\n  loading: boolean,\n  displayWelcomeScreen: boolean\n }\n\n const defaultValue: ArrayContext= {\n   languages_bcp47:[],\n   loading: false,\n   displayWelcomeScreen: true\n }\n\n\nconst Context = React.createContext<ArrayContext>(defaultValue);\n\nexport default Context;","export default __webpack_public_path__ + \"static/media/close_white.604f17ae.svg\";","import React from 'react';\nimport './language.css'\nimport Context from '../../services/Context';\nimport Cross from 'assets/icons/close_white.svg';\n\ntype LanguageProps = {\n  language: string,\n  flag: string,\n  bcp47: string\n}\n\nclass Language extends React.Component<LanguageProps> {\n  private element: React.RefObject<HTMLDivElement>;\n  private flag: React.RefObject<HTMLImageElement>;\n  private flagWrapper: React.RefObject<HTMLDivElement>;\n  private text: React.RefObject<HTMLSpanElement>;\n  static contextType = Context;\n  \n  constructor (props: LanguageProps) {\n    super(props);\n    this.element = React.createRef<HTMLDivElement>();\n    this.flag = React.createRef<HTMLImageElement>();\n    this.text = React.createRef<HTMLSpanElement>();\n    this.flagWrapper = React.createRef<HTMLDivElement>();\n  }\n\n  componentDidMount () {\n    this.loadEvents();\n    this.loadStyle();\n  }\n\n  render () {\n    return (\n      <div className=\"item-subtitle\" ref={this.element}>\n        <div className=\"item-subtitle-flag-wrapper\" ref={this.flagWrapper} >\n          <img className=\"item-subtitle-flag\" src={this.props.flag} alt=\"\" ref={this.flag} />\n        </div>\n        <span className=\"item-subtitle-language\" ref={this.text}>{this.props.language}</span>\n      </div>\n    )\n  }\n\n  private loadEvents (): void {\n    const el = this.element.current;\n    if (el !== null && el !== undefined) {\n      el.addEventListener('click', () => {\n        if (el.classList.contains('selected')) {\n          this.context.languages_bcp47 =this.context.languages_bcp47.filter((item: string) => item !== this.props.bcp47)\n        } else {\n          if (!this.context.languages_bcp47.includes(this.props.bcp47)) {\n            this.context.languages_bcp47.push(this.props.bcp47);\n          }\n        }\n        const event = new CustomEvent('languages_update');\n        document.dispatchEvent(event);\n      });\n\n      const flag = this.flag.current;\n      const text = this.text.current;\n      const flagWrapper = this.flagWrapper.current;\n      el.addEventListener('mouseenter', () => {\n        if (flag && text && flagWrapper && el.classList.contains('selected')) {\n          el.style.backgroundColor  = '#eb5454';\n          text.innerText = 'remove';\n          text.style.color = 'white';\n          flag.src = Cross;\n          flagWrapper.style.width = '35px';\n        }\n      })\n\n      el.addEventListener('mouseleave', () =>  {\n        if (flag && text && flagWrapper) {\n          el.style.backgroundColor  = '#7cc276';\n          text.style.color = 'black';\n          text.innerText = this.props.language;\n          flag.src = this.props.flag;\n          flagWrapper.style.width = 'auto';\n        }\n      })\n\n      document.addEventListener('languages_update', () => {\n        this.loadStyle();\n        if (flag && text && flagWrapper) {\n          el.style.backgroundColor  = '#7cc276';\n          text.style.color = 'black';\n          text.innerText = this.props.language;\n          flag.src = this.props.flag;\n          flagWrapper.style.width = 'auto';\n        }\n      });\n    }\n    \n  }\n\n  private loadStyle (): void {\n    const el = this.element.current;\n    if (el) {\n      if (this.context.languages_bcp47.includes(this.props.bcp47)) {\n        el.classList.add('selected');\n      } else  {\n        el.classList.remove('selected');\n      }\n    }\n  }\n}\n\nexport default Language;","import Channel from 'model/Channel';\nimport React from 'react';\nimport './item.css'\nimport verifiedIcon  from '../../assets/icons/check_circle_outline_black_24dp.svg';\nimport Subtitle from 'model/Subtitle';\nimport Language from 'components/language/Language';\n\n\ntype ItemProps = {\n  id: string,\n  title: string,\n  description: string\n  thumbnail: string,\n  duration: Date,\n  views: number,\n  date: Date,\n  channel: Channel,\n  subtitles: Subtitle[]\n}\n\nclass Item extends React.Component<ItemProps>{\n  private duration: string;\n  private stringDate: string;\n  private views: string;\n  // private element: React.RefObject<HTMLDivElement>;\n\n  constructor (props: ItemProps) {\n    super(props);\n    // this.element = React.createRef<HTMLDivElement>();\n\n    // this.duration = this.props.duration / 60 + ':' + (this.props.duration % 60).toLocaleString('en-US', {minimumIntegerDigits: 2, useGrouping:false});\n    this.duration = this.props.duration.getMinutes() + ':' + this.props.duration.getSeconds().toLocaleString('en-US', {minimumIntegerDigits: 2, useGrouping:false});\n    this.stringDate = ((new Date()).getFullYear() - this.props.date.getFullYear()) + ' years ago';\n    this.views = Math.trunc(this.props.views / 1000000) + 'M views';\n    \n  }\n\n  // private loadEvents (): void {\n  //   this.element.current?.addEventListener('click', () => {\n\n  //   });\n  // }\n\n\n  render() {\n    let certifIcon;\n    if (this.props.channel.certified) {\n      certifIcon = <img className=\"item-channel-certified\" src={verifiedIcon} alt=\"\"/>;\n    }\n    return(\n      <a className=\"item\" href={'https://www.youtube.com/watch?v=' + this.props.id} target=\"_blank\" rel=\"noreferrer noopener\">\n        <div className=\"thumbnail\" style={{backgroundImage : 'url(\"' + this.props.thumbnail +'\")'}}>\n          <span className=\"duration\">{this.duration}</span>\n        </div>\n        <div className=\"item-info\"> \n          <div className=\"item-uper\">\n            <span className=\"item-title\">{this.props.title}</span>\n            <span>{this.views} · {this.stringDate}</span>\n          </div>\n          <div className=\"item-channel\">\n            <img className=\"item-channel-picture\" src={this.props.channel.picture} alt=\"\" />\n            <span className=\"item-channel-name\">{this.props.channel.name}</span>\n            {certifIcon}\n          </div>\n          <p className=\"item-description\">{this.props.description}</p>\n\n          <div className=\"item-subtitles\">\n            {\n              this.props.subtitles.map((subtitle) => {\n                return (\n                  <Language flag={subtitle.flag} language={subtitle.language} bcp47={subtitle.bcp47}></Language>\n                )\n              })\n            }\n          </div>\n        </div>\n        \n      </a>\n    )\n  }\n}\n\nexport default Item;","import React from 'react';\nimport './loader.css';\nimport Context from 'services/Context'; \n\n class Loader extends React.Component {\n  static contextType = Context;\n\n  private randomMessage = [\n    // 'Looking for',\n    // 'Let\\'s see what I can find for ',\n    'Why YouTube didn\\'t put this basic option ? ',\n    'So many videos on YouTube...',\n    'Looking over 14,595,197,433 of videos...'\n  ]\n\n  private message = '';\n\n  constructor (props: any) {\n    super(props);\n    this.generateRandomMessage();\n  }\n\n\n  componentWillUnmount () {\n    this.message = '';\n  }\n\n  private generateRandomMessage () {\n    const hours = (new Date()).getHours();\n    if ( hours >= 2 && hours <= 5 ) {\n      this.message = 'You should go to sleep ⚆_⚆';\n    } else {\n      this.message =this.randomMessage[Math.floor(Math.random()*this.randomMessage.length)];\n    }\n  }\n\n  render () {\n    return (\n      <div id=\"loader-wrapper\">\n        <div id=\"loader\"></div>\n        <span id=\"message\">{ this.message }</span>\n      </div>\n      \n    )\n  }\n}\n\nexport default Loader;","import Channel from 'model/Channel';\nimport Subtitle from 'model/Subtitle';\nimport React from 'react';\nimport { IResult } from '../../model/Format';\nimport Item from '../item/Item';\nimport './result-list.css'\nimport Context from '../../services/Context';\nimport Loader from '../loader/Loader';\n\nclass ResultList extends React.Component {\n  private results: IResult[];\n  public state: any;\n  static contextType = Context;\n\n  constructor(props: any) {\n    super(props);\n    this.state= {\n      results: [],\n      loading: false\n    }\n    \n  }\n\n  componentDidMount() {\n    this.loadEvents();\n  }\n\n  private loadEvents (): void {\n    document.addEventListener('search', (e) => {\n      this.results = (e as CustomEvent).detail.results;\n      for (let i = 0; i < 5 ; i++) {\n        this.results = this.results.concat(this.results);\n      }\n      this.setState({results: this.results, loading: false});\n    });\n\n    document.addEventListener('search_start', () => {\n      this.setState({loading: true});\n    });\n  }\n\n  render() {\n    if (this.state.loading) {\n      return <Loader></Loader>\n    }\n    if (this.state.results.length === 0) {\n      return <div id=\"empty-message-wrapper\">\n        <span id=\"empty-message\">Videos will appear here.</span>\n        </div>\n    }\n    return <div id=\"result-list\">\n        \n        {this.state.results.map((result: IResult) => {\n            const channel = new Channel(result.channel.channelPicture, result.channel.name, result.channel.certified);\n            let subtitles: Subtitle[] = [];\n            for (const sub of result.subtitles) {\n              subtitles.push(new Subtitle(sub.language, sub.bcp47 ));\n            }\n            return (\n              <Item\n                id={result.id}\n                title={result.title}\n                description={result.description}\n                thumbnail={result.thumbnail} \n                duration={result.duration}\n                views={result.views}\n                date={result.date}\n                channel={channel}\n                subtitles={subtitles}\n              ></Item>\n            )\n          })}\n      </div>\n  }\n}\nexport default ResultList;","export default __webpack_public_path__ + \"static/media/search_black_24dp.6c95e853.svg\";","export default __webpack_public_path__ + \"static/media/close_black_24dp.244b6687.svg\";","import React from 'react';\nimport './scrollbar.css';\n\nclass Scrollbar extends React.Component {\n  private wrapper: React.RefObject<HTMLDivElement>;\n  private wrapperWrapper: React.RefObject<HTMLDivElement>;\n  private scrollbar: React.RefObject<HTMLDivElement>;\n\n  private y: number = -1;\n  private previousScrollY: number = 0;\n  private touchThrottle: number | null = null;\n\n  private wheelListener =  ((e: WheelEvent) => {\n    e.preventDefault();\n    this.scroll(e.deltaY, 20, true);\n    this.y += e.deltaY\n  });\n\n  private scrollListener = ((e: TouchEvent) => {\n    if (this.touchThrottle === null) {\n      this.touchThrottle = window.setTimeout(() => {\n        const deltaY = this.previousScrollY - e.touches[0].clientY;\n        this.scroll(deltaY, 5, true);\n        this.previousScrollY = e.touches[0].clientY;\n        this.touchThrottle = null;\n      }, 0)\n    }\n    \n  })\n\n  constructor (props: any) {\n    super(props);\n    this.wrapper = React.createRef<HTMLDivElement>();\n    this.scrollbar = React.createRef<HTMLDivElement>();\n    this.wrapperWrapper = React.createRef<HTMLDivElement>();\n  }\n\n  componentDidMount () {\n    this.loadEvents();\n    this.loadStyle();\n  }\n\n  componentWillUnmount() {\n    window.removeEventListener('wheel', this.wheelListener);\n    window.removeEventListener('touchmove', this.scrollListener);\n\n  }\n\n  private loadEvents () {\n    const listener =  this.onMouseMove.bind(this);\n    this.wrapperWrapper.current?.addEventListener('mousedown', (e: MouseEvent) => {\n      this.wrapperWrapper.current?.addEventListener('mousemove', listener);\n    });\n    window.addEventListener('mouseup',  (e: MouseEvent) => {\n      this.wrapperWrapper.current?.removeEventListener('mousemove',listener);\n    });\n    \n    window.addEventListener('wheel', this.wheelListener, { passive:false });\n    window.addEventListener('touchmove', this.scrollListener, { passive: false});\n\n    window.addEventListener('touchend', () => this.previousScrollY = 0);\n\n    document.addEventListener('search_language', () => {\n      const scrollbar  = this.scrollbar.current as HTMLDivElement;\n      if (scrollbar) {\n        scrollbar.style.marginTop = '0px';\n        this.updateList(0);\n        this.loadStyle();\n      }\n    });\n  }\n\n  private onMouseMove (e: MouseEvent) {\n    if (this.y !== -1) {\n      let gap = e.clientY - this.y;\n      this.scroll (e.offsetY, gap, false);\n    }\n    this.y = e.clientY;\n  }\n\n  private scroll (yIndex: number, shift: number, isShift: boolean): void {\n    const wrapper =  this.wrapper.current as HTMLDivElement;\n    const scrollbar  = this.scrollbar.current as HTMLDivElement;\n    const style = window.getComputedStyle(this.scrollbar.current as HTMLDivElement);\n    const marginTop = style.getPropertyValue('margin-top'); \n    if ( yIndex < 0 && isShift) {\n      shift = -shift;\n    }\n    let newMargin = parseInt(marginTop, 10) + shift;\n\n    if (newMargin < 0) newMargin = 0;\n    if (scrollbar.clientHeight !== 0) {\n      if (newMargin >  wrapper.clientHeight - scrollbar.clientHeight) {\n        newMargin =  wrapper.clientHeight - scrollbar.clientHeight;\n      } \n    }\n    scrollbar.style.marginTop = newMargin + 'px';\n    this.updateList(newMargin / Math.floor(this.getRenderedHeightList()*0.9));\n  }\n\n  private loadStyle () {\n    const popup = document.getElementById('languages-popup') as HTMLDivElement;\n    const header  = document.getElementById('languages-popup-header') as HTMLDivElement;\n    const list = document.getElementById('languages-popup-list') as HTMLDivElement;\n    const items = document.querySelectorAll('#languages-popup-list .item-subtitle');\n    const nbRows = Math.floor(items.length / 5);\n    const listStyle = window.getComputedStyle(list);\n    const listRowGap = parseInt(listStyle.getPropertyValue('row-gap'),10);\n    let itemHeight = 0;\n    if (items[0]) {\n      itemHeight = (items[0].clientHeight + listRowGap);\n    }\n    const height = (popup.clientHeight - header.clientHeight) * 0.9;\n    const marginTop = (popup.clientHeight - header.clientHeight) * 0.05;\n    if (this.wrapper.current) {\n      this.wrapper.current.style.height = height + 'px';\n      this.wrapper.current.style.marginTop = marginTop + 'px'; \n    }\n    if (list && this.scrollbar.current) {\n      let heightScrollbar = (  (popup.clientHeight - header.clientHeight)/ (nbRows * itemHeight)) * 100;\n      if (heightScrollbar > 100) {\n        heightScrollbar = 100;\n      }\n      this.scrollbar.current.style.height = heightScrollbar + '%';\n    }\n  }\n\n  private updateList (coeff: number): void {\n    const list  = document.getElementById('languages-popup-list') as HTMLDivElement;\n    if (coeff*list.clientHeight > list.clientHeight - this.getRenderedHeightList() ) {\n      if (list.clientHeight - this.getRenderedHeightList() > 0) {\n        coeff =  (list.clientHeight - this.getRenderedHeightList()) / list.clientHeight;\n      } else {\n        coeff = 0;\n      }\n    }\n    list.style.transform = 'translateY(' + -coeff * list.clientHeight + 'px)';\n  }\n\n  private getRenderedHeightList (): number {\n    const popup = document.getElementById('languages-popup') as HTMLDivElement;\n    const header  = document.getElementById('languages-popup-header') as HTMLDivElement;\n    return popup.clientHeight - header.clientHeight;\n  }\n\n  render () {\n    return (\n      <div className=\"scrollbar-wrapper-wrapper\" ref={this.wrapperWrapper}>\n        <div className=\"scrollbar-wrapper\" ref={this.wrapper}>\n          <div className=\"scrollbar\" ref={this.scrollbar}>\n          </div>\n        </div>\n      </div>\n    )\n      \n  }\n}\n\nexport default Scrollbar;","import React from 'react';\nimport './languages-popup.css';\nimport Subtitle from '../../model/Subtitle';\nimport { getAllLanguages } from '../../services/LanguageService';\nimport Language from '../language/Language';\nimport CloseIcon from '../../assets/icons/close_black_24dp.svg';\nimport Scrollbar from '../scrollbar/Scrollbar';\n\ntype PopupState = {\n  show: boolean,\n  subtitles: Subtitle[]\n}\n\ntype PopupProps = {\n  handlePopupDisplay: any\n}\n\nclass LanguagesPopup extends React.Component<PopupProps, PopupState> {\n  private subtitles: Subtitle[];\n  private allSubtitles: Subtitle[];\n  private closeButton: React.RefObject<HTMLButtonElement>;\n  private inputField: React.RefObject<HTMLInputElement>;\n\n\n  constructor (props: PopupProps) {\n    super(props);\n    this.closeButton = React.createRef<HTMLButtonElement>();\n    this.inputField = React.createRef<HTMLInputElement>();\n    this.subtitles = getAllLanguages();\n    this.allSubtitles = this.subtitles;\n    this.state = {\n      show: true,\n      subtitles: this.subtitles\n    };\n  }\n\n  componentDidMount () {\n    this.loadEvents();\n  }\n\n  private loadEvents (): void {\n    const closeButton = this.closeButton.current;\n    const inputField = this.inputField.current;\n    if (closeButton !== null && closeButton !== undefined) {\n      closeButton.addEventListener('click', () => {\n        this.props.handlePopupDisplay(false)\n      });\n    }\n\n    if (inputField) {\n      inputField.addEventListener('input', this.searchLanguages.bind(this))\n    }\n  }\n\n  private searchLanguages (e: any) {\n    const tmp: Subtitle[] = [];\n    for (const sub of this.allSubtitles) {\n      if (sub.language.toLowerCase().startsWith(e.target?.value.toLowerCase())) {\n        tmp.push(sub);\n      }\n    }\n    this.subtitles = tmp;\n    this.setState({subtitles: tmp});\n    const event = new CustomEvent('search_language');\n    document.dispatchEvent(event);\n  }\n\n  render () {\n    if (this.state.show) {\n      return(\n        <div id=\"languages-popup-background\">\n          <div id=\"languages-popup\">\n            <div id=\"languages-popup-header\">\n              <div id=\"languages-popup-search-wrapper\"> \n                <input autoComplete=\"off\" type=\"text\" placeholder=\"Search languages...\" id=\"languages-popup-search\"  ref={this.inputField} />\n              </div>\n              <button id=\"languages-popup-close-button\" ref={this.closeButton}><img src={CloseIcon} alt=\"\" /></button>\n            </div>\n            <div id=\"languages-popup-list-wrapper\">\n              <div id=\"languages-popup-list\">\n                {\n                  this.state.subtitles.map((subtitle) =>\n                    <Language key={subtitle.bcp47} flag={subtitle.flag} language={subtitle.language} bcp47={subtitle.bcp47} ></Language>\n                  )\n                }\n              </div>\n              <Scrollbar></Scrollbar>\n            </div>\n            \n          </div>\n        </div>\n      )\n    }\n    return null;\n   \n  }\n}\n\nexport default LanguagesPopup;","export default __webpack_public_path__ + \"static/media/youtongue_text.9bd7e5a7.svg\";","import { IResult, ISubtitle } from \"../model/Format\";\nimport { getLanguage } from '../services/LanguageService';\nimport Subtitle from '../model/Subtitle';\n\ntype VideoInfo = {\n  duration: Date,\n  views: number\n}\n\nclass SearchService {\n  private MAX_REQUEST = 10;\n  private youtubeAPIKey = \"AIzaSyD7N92-iFT6uEixwqNFRcXhZ8CZUgJjyWc\";\n  private urlSearchRequest = \"https://www.googleapis.com/youtube/v3/search?maxResults=\" + this.MAX_REQUEST +\"&type=video&part=snippet&q=\";\n  private urlCaptionsRequest = \"https://www.googleapis.com/youtube/v3/captions?\";\n  private urlVideoRequest = \"https://www.googleapis.com/youtube/v3/videos?\";\n  private results: IResult[] = [];\n  \n\n  public async search(query: string, languages_bcp47: string []): Promise<void>{\n    query = query.replaceAll(' ', '+');\n    \n    // YouTube search\n    let results: IResult[] = [];\n    \n    // if (query.length < 5) return; // \n    \n    let queryResponse = await fetch(this.urlSearchRequest + query + '&key=' + this.youtubeAPIKey);\n    let searchDatas = await queryResponse.json();\n    if(searchDatas.items) {\n      for (const result of searchDatas.items) {\n        let videoInfo = await this.getVideoInfo(result.id.videoId);\n        let fetchCaptions = await fetch(this.urlCaptionsRequest + 'key=' + this.youtubeAPIKey + '&videoId='+result.id.videoId+\"&part=snippet\");\n        let subtitles: ISubtitle[] = [];\n        \n\n        await fetchCaptions.json().then((captions)=> {\n          if (this.videoConcerned(captions, languages_bcp47)) {\n            for(let caption of captions.items) {\n              const sub: Subtitle = getLanguage(caption.snippet.language);\n              if (!this.isSubtitle(subtitles, sub.language)) {\n                subtitles.push({\n                  language: sub.language,\n                  bcp47: sub.bcp47,\n                  flag: sub.flag\n                });\n              }\n            }\n            let dateString = result.snippet.publishTime.split('T')[0];\n            let timeString = result.snippet.publishTime.split('T')[1];\n            dateString = dateString.split('-');\n            const date = new Date(parseInt(dateString[0], 10), parseInt(dateString[1], 10) - 1 , parseInt(dateString[2], 10));\n            timeString = timeString.split(':');\n            date.setHours(parseInt(timeString[0], 10));\n            date.setMinutes(parseInt(timeString[1], 10));\n            date.setSeconds(parseInt(timeString[2], 10));\n\n            results.push({\n              id: result.id.videoId,\n              title: result.snippet.title,\n              channel: result.snippet.channelTitle,\n              thumbnail: result.snippet.thumbnails.medium.url,\n              description: result.snippet.description,\n              subtitles: subtitles,\n              duration: videoInfo.duration,\n              views: videoInfo.views,\n              date: date\n            });\n        }\n        });\n      }\n    }\n    this.results = results;\n    const searchEvent = new CustomEvent('search', { detail: {results: results } });\n    document.dispatchEvent(searchEvent);\n  }\n\n  private isSubtitle (subtitles: ISubtitle[], language: string): boolean {\n    for (const sub of subtitles) {\n      if (sub.language === language ) {\n        return true;\n      }\n    }\n    return false;\n  }\n\n  private videoConcerned (captions: any, languages_bcp47: string[]): boolean {\n    if (captions.length === 0) return false;\n    if (languages_bcp47.length === 0) return true;\n    const bcp47 = [];\n    for(let caption of captions.items) {\n      bcp47.push(caption.snippet.language);\n    }\n    return bcp47.some((r: string) => languages_bcp47.indexOf(r) >= 0)\n  }\n  private async getVideoInfo (id: string): Promise<VideoInfo> {\n    const url = this.urlVideoRequest + 'id=' + id + \"&key=\" + this.youtubeAPIKey + \"&part=statistics, contentDetails\";\n    let videoInfoRequest = await fetch(url);\n    const videoInfo = await videoInfoRequest.json();\n\n    const timeString = videoInfo.items[0].contentDetails.duration.split('PT')[1];\n    const time = new Date();\n    const minutes = parseInt(timeString.split('M')[0], 10);\n    let seconds = 0;\n    if (minutes === undefined || minutes === 0) {\n      seconds = parseInt(timeString.split('S')[0], 10);\n    } else {\n      const minutesBis = timeString.split('M')[1];\n      if (minutesBis) {\n          seconds = parseInt(minutesBis.split('S')[0], 10);\n      }\n    }\n    if (isNaN(seconds)) {\n      seconds = 0;\n    }\n    time.setMinutes(minutes)\n    time.setSeconds(seconds);\n\n    return {\n      duration: time,\n      views: videoInfo.items[0].statistics.viewCount\n    };\n  }\n\n\n}\n\n// const mustardChannel: IChannel = {\n//   name: 'Mustard',\n//   channelPicture: 'https://yt3.ggpht.com/ytc/AKedOLT702UGekRPyvRDdy1rKqhUamCaLADdSm9RVlPY0A=s176-c-k-c0x00ffffff-no-rj-mo',\n//   certified: true\n// };\n\n// const FICTITIOUS_RESULT = \n// [\n//   {\n//       \"title\": \"Why Airbus Nearly Didn’t Happen: The A300 Story\",\n//       \"channel\": \"Mustard\",\n//       \"thumbnail\": \"https://i.ytimg.com/vi/ln-ffJM9sJc/mqdefault.jpg\",\n//       \"description\": \"Watch over 2400 documentaries for free for a month by signing up at: http://CuriosityStream.com/mustard and using the code ...\",\n//       \"subtitles\": [\n//           {\n//               \"language\": \"English\",\n//               \"bcp47\": \"en\",\n//               \"flag\": \"https://flagcdn.com/w320/gb.png\"\n//           },\n//           {\n//               \"language\": \"German\",\n//               \"bcp47\": \"de\",\n//               \"flag\": \"https://flagcdn.com/w320/de.png\"\n//           },\n//           {\n//               \"language\": \"English\",\n//               \"bcp47\": \"en\",\n//               \"flag\": \"https://flagcdn.com/w320/gb.png\"\n//           },\n//           {\n//               \"language\": \"Latin American Spanish\",\n//               \"bcp47\": \"es-419\",\n//               \"flag\": \"https://flagcdn.com/w320/es.png\"\n//           },\n//           {\n//               \"language\": \"Spanish;\\nCastilian\",\n//               \"bcp47\": \"es\",\n//               \"flag\": \"https://flagcdn.com/w320/es.png\"\n//           },\n//           {\n//               \"language\": \"French\",\n//               \"bcp47\": \"fr\",\n//               \"flag\": \"https://flagcdn.com/w320/fr.png\"\n//           },\n//           {\n//               \"language\": \"Croatian\",\n//               \"bcp47\": \"hr\",\n//               \"flag\": \"https://flagcdn.com/w320/hr.png\"\n//           },\n//           {\n//               \"language\": \"Indonesian\",\n//               \"bcp47\": \"id\",\n//               \"flag\": \"https://flagcdn.com/w320/id.png\"\n//           },\n//           {\n//               \"language\": \"Italian\",\n//               \"bcp47\": \"it\",\n//               \"flag\": \"https://flagcdn.com/w320/it.png\"\n//           },\n//           {\n//               \"language\": \"Korean\",\n//               \"bcp47\": \"ko\",\n//               \"flag\": \"https://flagcdn.com/w320/kr.png\"\n//           },\n//           {\n//               \"language\": \"Malay (macrolanguage)\",\n//               \"bcp47\": \"ms\",\n//               \"flag\": \"https://flagcdn.com/w320/my.png\"\n//           },\n//           {\n//               \"language\": \"Portuguese\",\n//               \"bcp47\": \"pt\",\n//               \"flag\": \"https://flagcdn.com/w320/pt.png\"\n//           },\n//           {\n//               \"language\": \"Russian\",\n//               \"bcp47\": \"ru\",\n//               \"flag\": \"https://flagcdn.com/w320/ru.png\"\n//           },\n//           {\n//               \"language\": \"Chinese Hong-Kong\",\n//               \"bcp47\": \"zh-hk\",\n//               \"flag\": \"https://flagcdn.com/w320/hk.png\"\n//           },\n//           {\n//               \"language\": \"Chinese Taïwan\",\n//               \"bcp47\": \"zh-tw\",\n//               \"flag\": \"https://flagcdn.com/w320/tw.png\"\n//           }\n//       ],\n//       \"duration\": \"2022-03-24T11:11:25.719Z\",\n//       \"views\": \"3004181\",\n//       \"date\": \"2019-08-12T21:39:50.000Z\"\n//   },\n//   {\n//       \"title\": \"A Commercial Failure: The Dassault Mercure Story\",\n//       \"channel\": \"Mustard\",\n//       \"thumbnail\": \"https://i.ytimg.com/vi/ZXXHsPrasx0/mqdefault.jpg\",\n//       \"description\": \"Support Mustard on Patreon: https://www.patreon.com/MustardChannel Mustard Merchandise: ...\",\n//       \"subtitles\": [\n//           {\n//               \"language\": \"English\",\n//               \"bcp47\": \"en\",\n//               \"flag\": \"https://flagcdn.com/w320/gb.png\"\n//           },\n//           {\n//               \"language\": \"English\",\n//               \"bcp47\": \"en\",\n//               \"flag\": \"https://flagcdn.com/w320/gb.png\"\n//           },\n//           {\n//               \"language\": \"Latin American Spanish\",\n//               \"bcp47\": \"es-419\",\n//               \"flag\": \"https://flagcdn.com/w320/es.png\"\n//           },\n//           {\n//               \"language\": \"Spanish;\\nCastilian\",\n//               \"bcp47\": \"es\",\n//               \"flag\": \"https://flagcdn.com/w320/es.png\"\n//           },\n//           {\n//               \"language\": \"French\",\n//               \"bcp47\": \"fr\",\n//               \"flag\": \"https://flagcdn.com/w320/fr.png\"\n//           },\n//           {\n//               \"language\": \"Portuguese Brazil\",\n//               \"bcp47\": \"pt-br\",\n//               \"flag\": \"https://flagcdn.com/w320/br.png\"\n//           },\n//           {\n//               \"language\": \"Chinese Taïwan\",\n//               \"bcp47\": \"zh-tw\",\n//               \"flag\": \"https://flagcdn.com/w320/tw.png\"\n//           }\n//       ],\n//       \"duration\": \"2022-03-24T11:10:00.954Z\",\n//       \"views\": \"1808696\",\n//       \"date\": \"2018-02-04T14:35:40.000Z\"\n//   },\n//   {\n//       \"title\": \"This Plane Could Even Land Itself: Why Did The L-1011 Fail?\",\n//       \"channel\": \"Mustard\",\n//       \"thumbnail\": \"https://i.ytimg.com/vi/jkFYD7R_Xig/mqdefault.jpg\",\n//       \"description\": \"Support Mustard on Patreon: https://www.patreon.com/MustardChannel Mustard Merchandise: ...\",\n//       \"subtitles\": [\n//           {\n//               \"language\": \"English\",\n//               \"bcp47\": \"en\",\n//               \"flag\": \"https://flagcdn.com/w320/gb.png\"\n//           },\n//           {\n//               \"language\": \"English\",\n//               \"bcp47\": \"en\",\n//               \"flag\": \"https://flagcdn.com/w320/gb.png\"\n//           },\n//           {\n//               \"language\": \"Spanish;\\nCastilian\",\n//               \"bcp47\": \"es\",\n//               \"flag\": \"https://flagcdn.com/w320/es.png\"\n//           },\n//           {\n//               \"language\": \"French\",\n//               \"bcp47\": \"fr\",\n//               \"flag\": \"https://flagcdn.com/w320/fr.png\"\n//           },\n//           {\n//               \"language\": \"Hungarian\",\n//               \"bcp47\": \"hu\",\n//               \"flag\": \"https://flagcdn.com/w320/hu.png\"\n//           },\n//           {\n//               \"language\": \"Indonesian\",\n//               \"bcp47\": \"id\",\n//               \"flag\": \"https://flagcdn.com/w320/id.png\"\n//           },\n//           {\n//               \"language\": \"Korean\",\n//               \"bcp47\": \"ko\",\n//               \"flag\": \"https://flagcdn.com/w320/kr.png\"\n//           },\n//           {\n//               \"language\": \"Portuguese\",\n//               \"bcp47\": \"pt\",\n//               \"flag\": \"https://flagcdn.com/w320/pt.png\"\n//           },\n//           {\n//               \"language\": \"Vietnamese\",\n//               \"bcp47\": \"vi\",\n//               \"flag\": \"https://flagcdn.com/w320/vn.png\"\n//           },\n//           {\n//               \"language\": \"Chinese Taïwan\",\n//               \"bcp47\": \"zh-tw\",\n//               \"flag\": \"https://flagcdn.com/w320/tw.png\"\n//           }\n//       ],\n//       \"duration\": \"2022-03-24T11:08:28.195Z\",\n//       \"views\": \"3850957\",\n//       \"date\": \"2017-10-24T18:05:13.000Z\"\n//   },\n//   {\n//       \"title\": \"What Happened To The World&#39;s Largest Plane? The Antonov An-225 Mriya\",\n//       \"channel\": \"Mustard\",\n//       \"thumbnail\": \"https://i.ytimg.com/vi/twwDv7jjjfw/mqdefault.jpg\",\n//       \"description\": \"Get an entire year of both CuriosityStream and Nebula for just for less than $1 a month here (42% off the regular price): ...\",\n//       \"subtitles\": [\n//           {\n//               \"language\": \"English\",\n//               \"bcp47\": \"en\",\n//               \"flag\": \"https://flagcdn.com/w320/gb.png\"\n//           },\n//           {\n//               \"language\": \"English\",\n//               \"bcp47\": \"en\",\n//               \"flag\": \"https://flagcdn.com/w320/gb.png\"\n//           }\n//       ],\n//       \"duration\": \"2022-03-24T11:10:25.426Z\",\n//       \"views\": \"2149166\",\n//       \"date\": \"2021-02-25T11:54:29.000Z\"\n//   },\n//   {\n//       \"title\": \"This Jet Terrified the West: The MiG-25 Foxbat\",\n//       \"channel\": \"Mustard\",\n//       \"thumbnail\": \"https://i.ytimg.com/vi/W1L1sU0uI0o/mqdefault.jpg\",\n//       \"description\": \"Get an entire year of both CuriosityStream and Nebula for just $14.79 here: http://CuriosityStream.com/mustard Support Mustard ...\",\n//       \"subtitles\": [\n//           {\n//               \"language\": \"English\",\n//               \"bcp47\": \"en\",\n//               \"flag\": \"https://flagcdn.com/w320/gb.png\"\n//           },\n//           {\n//               \"language\": \"English\",\n//               \"bcp47\": \"en\",\n//               \"flag\": \"https://flagcdn.com/w320/gb.png\"\n//           }\n//       ],\n//       \"duration\": \"2022-03-24T11:13:11.674Z\",\n//       \"views\": \"5424632\",\n//       \"date\": \"2021-11-19T18:19:30.000Z\"\n//   },\n//   {\n//       \"title\": \"How This Plane Earned A Dangerous Reputation: The DC-10 Story\",\n//       \"channel\": \"Mustard\",\n//       \"thumbnail\": \"https://i.ytimg.com/vi/l-085TjhUPo/mqdefault.jpg\",\n//       \"description\": \"Support Mustard on Patreon: https://www.patreon.com/MustardChannel Mustard Merchandise: ...\",\n//       \"subtitles\": [\n//           {\n//               \"language\": \"Arabic\",\n//               \"bcp47\": \"ar\",\n//               \"flag\": \"https://flagcdn.com/w320/sa.png\"\n//           },\n//           {\n//               \"language\": \"English\",\n//               \"bcp47\": \"en\",\n//               \"flag\": \"https://flagcdn.com/w320/gb.png\"\n//           },\n//           {\n//               \"language\": \"English\",\n//               \"bcp47\": \"en\",\n//               \"flag\": \"https://flagcdn.com/w320/gb.png\"\n//           },\n//           {\n//               \"language\": \"Latin American Spanish\",\n//               \"bcp47\": \"es-419\",\n//               \"flag\": \"https://flagcdn.com/w320/es.png\"\n//           },\n//           {\n//               \"language\": \"Spanish;\\nCastilian\",\n//               \"bcp47\": \"es\",\n//               \"flag\": \"https://flagcdn.com/w320/es.png\"\n//           },\n//           {\n//               \"language\": \"French\",\n//               \"bcp47\": \"fr\",\n//               \"flag\": \"https://flagcdn.com/w320/fr.png\"\n//           },\n//           {\n//               \"language\": \"Korean\",\n//               \"bcp47\": \"ko\",\n//               \"flag\": \"https://flagcdn.com/w320/kr.png\"\n//           },\n//           {\n//               \"language\": \"Malay (macrolanguage)\",\n//               \"bcp47\": \"ms\",\n//               \"flag\": \"https://flagcdn.com/w320/my.png\"\n//           },\n//           {\n//               \"language\": \"Portuguese Brazil\",\n//               \"bcp47\": \"pt-br\",\n//               \"flag\": \"https://flagcdn.com/w320/br.png\"\n//           },\n//           {\n//               \"language\": \"Chinese Taïwan\",\n//               \"bcp47\": \"zh-tw\",\n//               \"flag\": \"https://flagcdn.com/w320/tw.png\"\n//           }\n//       ],\n//       \"duration\": \"2022-03-24T11:10:30.918Z\",\n//       \"views\": \"5292907\",\n//       \"date\": \"2018-09-28T15:26:38.000Z\"\n//   },\n//   {\n//       \"title\": \"The Strangest Aircraft Ever Built: The Soviet Union&#39;s VVA-14\",\n//       \"channel\": \"Mustard\",\n//       \"thumbnail\": \"https://i.ytimg.com/vi/UD7xiWWs-bs/mqdefault.jpg\",\n//       \"description\": \"Get an entire year of both CuriosityStream and Nebula for just for less than $1 a month here (42% off the regular price): ...\",\n//       \"subtitles\": [\n//           {\n//               \"language\": \"English\",\n//               \"bcp47\": \"en\",\n//               \"flag\": \"https://flagcdn.com/w320/gb.png\"\n//           },\n//           {\n//               \"language\": \"English\",\n//               \"bcp47\": \"en\",\n//               \"flag\": \"https://flagcdn.com/w320/gb.png\"\n//           }\n//       ],\n//       \"duration\": \"2022-03-24T11:11:21.126Z\",\n//       \"views\": \"7055402\",\n//       \"date\": \"2021-07-16T17:40:33.000Z\"\n//   },\n//   {\n//       \"title\": \"Trying To Fly To America Before It Was Possible: The Caproni Transaero\",\n//       \"channel\": \"Mustard\",\n//       \"thumbnail\": \"https://i.ytimg.com/vi/uYn6fyGNg7c/mqdefault.jpg\",\n//       \"description\": \"Get an entire year of both CuriosityStream and Nebula for just for less than $1 a month here (42% off the regular price): ...\",\n//       \"subtitles\": [\n//           {\n//               \"language\": \"English\",\n//               \"bcp47\": \"en\",\n//               \"flag\": \"https://flagcdn.com/w320/gb.png\"\n//           },\n//           {\n//               \"language\": \"English\",\n//               \"bcp47\": \"en\",\n//               \"flag\": \"https://flagcdn.com/w320/gb.png\"\n//           }\n//       ],\n//       \"duration\": \"2022-03-24T11:08:27.345Z\",\n//       \"views\": \"2557704\",\n//       \"date\": \"2020-10-30T11:13:17.000Z\"\n//   },\n//   {\n//       \"title\": \"A Plane Without Wings: The Story of The C.450 Coléoptère\",\n//       \"channel\": \"Mustard\",\n//       \"thumbnail\": \"https://i.ytimg.com/vi/unz6mfjS4ws/mqdefault.jpg\",\n//       \"description\": \"Get an entire year of both CuriosityStream and Nebula for just for less than $1 a month here (42% off the regular price): ...\",\n//       \"subtitles\": [\n//           {\n//               \"language\": \"English\",\n//               \"bcp47\": \"en\",\n//               \"flag\": \"https://flagcdn.com/w320/gb.png\"\n//           },\n//           {\n//               \"language\": \"English\",\n//               \"bcp47\": \"en\",\n//               \"flag\": \"https://flagcdn.com/w320/gb.png\"\n//           }\n//       ],\n//       \"duration\": \"2022-03-24T11:08:20.595Z\",\n//       \"views\": \"3961917\",\n//       \"date\": \"2020-12-21T13:25:47.000Z\"\n//   },\n//   {\n//       \"title\": \"Why The Vertical Takeoff Airliner Failed: The Rotodyne Story\",\n//       \"channel\": \"Mustard\",\n//       \"thumbnail\": \"https://i.ytimg.com/vi/dkJOm1V77Xg/mqdefault.jpg\",\n//       \"description\": \"Sign up for an annual CuriosityStream subscription and you'll also get a free Nebula subscription (the new streaming platform ...\",\n//       \"subtitles\": [\n//           {\n//               \"language\": \"English\",\n//               \"bcp47\": \"en\",\n//               \"flag\": \"https://flagcdn.com/w320/gb.png\"\n//           },\n//           {\n//               \"language\": \"English\",\n//               \"bcp47\": \"en\",\n//               \"flag\": \"https://flagcdn.com/w320/gb.png\"\n//           },\n//           {\n//               \"language\": \"Latin American Spanish\",\n//               \"bcp47\": \"es-419\",\n//               \"flag\": \"https://flagcdn.com/w320/es.png\"\n//           },\n//           {\n//               \"language\": \"Korean\",\n//               \"bcp47\": \"ko\",\n//               \"flag\": \"https://flagcdn.com/w320/kr.png\"\n//           },\n//           {\n//               \"language\": \"Portuguese Brazil\",\n//               \"bcp47\": \"pt-br\",\n//               \"flag\": \"https://flagcdn.com/w320/br.png\"\n//           },\n//           {\n//               \"language\": \"Russian\",\n//               \"bcp47\": \"ru\",\n//               \"flag\": \"https://flagcdn.com/w320/ru.png\"\n//           },\n//           {\n//               \"language\": \"Vietnamese\",\n//               \"bcp47\": \"vi\",\n//               \"flag\": \"https://flagcdn.com/w320/vn.png\"\n//           },\n//           {\n//               \"language\": \"Chinese Taïwan\",\n//               \"bcp47\": \"zh-tw\",\n//               \"flag\": \"https://flagcdn.com/w320/tw.png\"\n//           }\n//       ],\n//       \"duration\": \"2022-03-24T11:10:08.814Z\",\n//       \"views\": \"7866619\",\n//       \"date\": \"2019-10-23T17:28:32.000Z\"\n//   }\n// ]\n\nconst searchService = new SearchService();\n\nexport default searchService;","export default __webpack_public_path__ + \"static/media/arrow-down.2e0eb198.svg\";","import React from 'react';\nimport './language-option.css'\nimport Context from '../../services/Context';\n\ntype LanguageOptionProps = {\n  language: string,\n  flag: string,\n  bcp47: string,\n  handlePopupDisplay: any\n}\n\n\nclass LanguageOption extends React.Component<LanguageOptionProps> {\n  private element: React.RefObject<HTMLDivElement>;\n  static contextType = Context;\n  \n  constructor (props: LanguageOptionProps) {\n    super(props);\n    this.element = React.createRef<HTMLDivElement>();\n\n  }\n\n  componentDidMount () {\n    this.loadEvents();\n    this.loadStyle();\n  }\n\n  render () {\n\n    let flag = <img className=\"option-subtitle-flag\" src={this.props.flag} alt=\"\" />\n    if (this.props.bcp47 === 'unknown') {\n      flag = <div className=\"unknown-flag option-subtitle-flag\">?</div>\n    }\n    return (\n      <div className=\"option-subtitle\" ref={this.element}>\n        { flag }\n        <span className=\"option-subtitle-language\">{this.props.language}</span>\n      </div>\n    )\n  }\n\n  private loadEvents (): void {\n    const el = this.element.current;\n    if (el !== null && el !== undefined) {\n      el.addEventListener('click', () => {\n        if (this.props.bcp47 !== 'unknown') {\n          if (el.classList.contains('selected')) {\n            this.context.languages_bcp47 =this.context.languages_bcp47.filter((item: string) => item !== this.props.bcp47)\n          } else {\n            if (!this.context.languages_bcp47.includes(this.props.bcp47)) {\n              this.context.languages_bcp47.push(this.props.bcp47);\n            }\n          }\n          const event = new CustomEvent('languages_update');\n          document.dispatchEvent(event);\n        } else {\n          // open the languages panel\n          this.props.handlePopupDisplay(true)\n        }\n      });\n\n      // if not the 'other' option\n      if (this.props.bcp47 !== 'unknown') {\n        document.addEventListener('languages_update', () => {\n          this.loadStyle();\n        });\n      }\n    }\n    \n  }\n\n  private loadStyle (): void {\n    const el = this.element.current;\n    if (el) {\n      if (this.context.languages_bcp47.includes(this.props.bcp47)) {\n        el.classList.add('selected');\n      } else  {\n        el.classList.remove('selected');\n      }\n    }\n  }\n}\n\nexport default LanguageOption;","import React from 'react';\nimport './languages-list.css'\nimport ArrowDown from '../../assets/icons/arrow-down.svg'\nimport Subtitle from 'model/Subtitle';\nimport { getMostSpokenLanguages } from 'services/LanguageService';\nimport LanguageOption from 'components/language-option/LanguageOption';\n\ntype LanguagesListState = {\n  listOpen: boolean;\n}\n\ntype props = {\n  handlePopupDisplay: any\n}\n\nclass LanguagesList extends React.Component<props, LanguagesListState> {\n  private headerList: React.RefObject<HTMLDivElement>;\n  private subtitles: Subtitle[];\n\n  constructor(props: any) {\n    super(props);\n    this.headerList = React.createRef<HTMLDivElement>();\n    this.state = {\n      listOpen: false\n    };\n    this.subtitles = getMostSpokenLanguages();\n    this.subtitles.push(new Subtitle('other...', 'unknown'))\n  }\n\n  componentDidMount() {\n    this.loadEvents();\n  }\n\n\n  private loadEvents() {\n    this.headerList.current?.addEventListener('click', () => {\n      this.setState({\n        listOpen: !this.state.listOpen\n      });\n    })\n  }\n  \n\n  render() {\n    let languagesList = null\n    if (this.state.listOpen) {\n      languagesList = (\n        <div className=\"languages-list-core\">\n          {\n              this.subtitles.map((subtitle) => \n                <LanguageOption key={subtitle.bcp47} handlePopupDisplay={this.props.handlePopupDisplay} flag={subtitle.flag} language={subtitle.language} bcp47={subtitle.bcp47} ></LanguageOption>\n              )\n            }\n        </div>\n      )\n    }\n    return(\n      <div className=\"language-list\">\n        <div className=\"languages-list-upper\" ref={this.headerList}>\n          <span className=\"noselect\">Select languages</span>\n          <span className=\"noselect-flag\">?</span>\n          <img className=\"arrow-down\" src={ArrowDown} alt=\"\" />\n        </div>\n        {languagesList}\n      </div>\n    )\n  }\n}\n\nexport default LanguagesList;","export default __webpack_public_path__ + \"static/media/arrow-right.7b13c9ac.svg\";","export default __webpack_public_path__ + \"static/media/arrow-left.25550fca.svg\";","import Subtitle from 'model/Subtitle';\nimport React from 'react';\nimport './selected-languages.css';\nimport Context from '../../services/Context';\nimport Language from 'components/language/Language';\nimport { getLanguage } from 'services/LanguageService';\nimport ArrowRight from 'assets/icons/arrow-right.svg';\nimport ArrowLeft from 'assets/icons/arrow-left.svg';\n\ntype SelectedLanguagesState = {\n  subtitles: Subtitle[],\n  displayAll: boolean\n}\n\nclass SelectedLanguages extends React.Component<any, SelectedLanguagesState> {\n  static contextType = Context;\n  private list: React.RefObject<HTMLDivElement>;\n  private listWrapper: React.RefObject<HTMLDivElement>;\n  private slideIndex = 0;\n  private previousShift = 0;\n  private numberOfItems = 0;\n\n  constructor (props: any) {\n    super(props);\n    this.state = {\n      subtitles: [],\n      displayAll: false\n    }\n    this.list = React.createRef<HTMLDivElement>();\n    this.listWrapper = React.createRef<HTMLDivElement>();\n  }\n\n  componentDidMount (): void {\n    this.loadEvents();\n  }\n\n  private getMaxShift (): number {\n    if (!this.list.current || this.list.current.children.length === 0) return -1;\n    let listLength = 0;\n    let widthLanguage = this.outerWidth(this.list.current.children[0] as HTMLElement);\n    for (let i = 0; i < this.list.current.children.length; i++) {\n      listLength += widthLanguage\n    }\n    const maxShift = listLength - this.list.current.clientWidth;\n    if (maxShift < 0) return 0;\n    return maxShift;\n  }\n\n  private outerWidth(el: HTMLElement) {\n    var width = el.offsetWidth;\n    var style = getComputedStyle(el);\n  \n    width += parseInt(style.marginLeft) + parseInt(style.marginRight);\n    return width;\n  }\n  \n  private loadEvents (): void {\n    document.addEventListener('languages_update', () => {\n      if (this.context !== undefined) {\n        const subtitles = [];\n        for (const bcp47 of this.context.languages_bcp47) {\n          subtitles.push(getLanguage(bcp47))\n        }\n        this.setState({subtitles: subtitles});\n        if (subtitles.length < this.numberOfItems) {\n          this.slideRight();\n          this.slideIndex--;\n        }\n        this.numberOfItems = subtitles.length;\n      }\n    });\n  }\n\n  private slideLeft() {\n    if (!this.list.current || this.list.current.children.length === 0) return;\n    this.slideIndex--;\n    if (this.slideIndex < 0) this.slideIndex = 0;\n    const widthLanguage = this.outerWidth(this.list.current.children[0] as HTMLElement);\n    this.slide(this.slideIndex * widthLanguage);\n    \n  }\n\n  private slideRight() {\n    if (!this.list.current || this.list.current.children.length === 0) return;\n    this.slideIndex++;\n    const widthLanguage = this.outerWidth(this.list.current.children[0] as HTMLElement);\n    let maxShift = this.getMaxShift()\n    let shift = this.slideIndex * widthLanguage;\n    if (shift > maxShift) {\n      shift = maxShift;\n      if (shift === this.previousShift) {\n        this.slideIndex--;\n      }\n    }\n    this.slide(shift);\n    \n  }\n\n  private slide(shift: number) {\n    if (!this.list.current || this.list.current.children.length === 0) return;\n    this.list.current.style.transform = `translateX(-${shift}px)`\n    this.previousShift = shift;\n  }\n  \n  render () {\n    let subtitles = [];\n    for (const bcp47 of this.context.languages_bcp47) {\n      subtitles.push(getLanguage(bcp47))\n    }\n\n    let arrowLeft = null;\n    let arrowRight = null;\n    if (this.getMaxShift() > 0) {\n      arrowLeft = <img className=\"arrows arrow-left\" src={ArrowLeft} alt=\"\" onClick={this.slideLeft.bind(this)}/>\n      arrowRight = <img className=\"arrows arrow-right\" src={ArrowRight} alt=\"\" onClick={this.slideRight.bind(this)}/>\n    }\n    if (subtitles.length > 0) {\n      return (\n        <div id=\"selected-languages\"  ref={this.listWrapper}>\n          { arrowLeft }\n          <div id=\"selected-languages-list-wrapper\">\n            <div id=\"selected-languages-list\" ref={this.list}>\n              {\n                subtitles.map((subtitle) => \n                  <Language key={subtitle.bcp47} flag={subtitle.flag} language={subtitle.language} bcp47={subtitle.bcp47} ></Language>\n                )\n              }\n            </div>\n          </div>\n          \n          { arrowRight }\n          {/* <button onClick={() => {this.context.languages_bcp47.push('en');const event = new CustomEvent('languages_update');document.dispatchEvent(event);}}>TO REMOVE</button> */}\n        </div>\n        \n      )\n    } else {\n      return (\n        <div></div>\n      )\n    }\n    \n  }\n}\n\nexport default SelectedLanguages;","import React from 'react';\nimport './search-bar.css';\nimport MagnifyingGlass from '../../assets/icons/search_black_24dp.svg'\nimport LanguagesPopup from 'components/languages-popup/LanguagesPopup';\nimport LogoText from '../../assets/logo/youtongue_text.svg';\nimport searchService from '../../services/SearchService';\nimport Context from '../../services/Context';\nimport LanguagesList from 'components/languages-list/LanguagesList';\nimport SelectedLanguages from 'components/selected-languages/SelectedLanguages';\n\n\ntype SearchBarState = {\n  displayPopup: boolean;\n  waitForSearch: number;\n  displayWelcomeScreen: boolean;\n}\n\n\nclass SearchBar extends React.Component<any, SearchBarState> {\n\n  private more: React.RefObject<HTMLDivElement>;\n  private input: React.RefObject<HTMLInputElement>;\n  static contextType = Context;\n\n  state = {\n    displayPopup: false,\n    waitForSearch: -1,\n    displayWelcomeScreen: true\n  };\n\n  handlePopupDisplay = (displayPopup: boolean) => {\n    this.setState({displayPopup});\n    if (displayPopup) {\n      document.body.style.overflow = 'hidden';\n    } else {\n      document.body.style.overflow = 'visible'\n    }\n  }\n\n  constructor (props: any) {\n    super(props);\n    this.more = React.createRef<HTMLDivElement>();\n    this.input = React.createRef<HTMLInputElement>();\n  }\n\n  componentDidMount () {\n    this.loadEvents();\n  }\n\n  private loadEvents () {\n    const more = this.more.current;\n    if (more !== null && more !== undefined) {\n      more.addEventListener('click', () => {\n        this.setState({displayPopup: true});\n      });\n    }\n\n    this.input.current?.addEventListener('click', () => {\n      this.animateWelcomeScreen();\n    });\n\n    this.input.current?.addEventListener('input', () => {\n      clearTimeout(this.state.waitForSearch);\n      this.context.loading = true;\n      const event = new CustomEvent('search_start');\n      document.dispatchEvent(event);\n      this.setState({waitForSearch: window.setTimeout(() => {\n          searchService.search(this.input.current?.value as string, this.context.languages_bcp47);\n          this.setState({waitForSearch: -1});\n          this.context.loading = false;\n        }, 500)\n      });\n    });\n  }\n\n  private animateWelcomeScreen () {\n    if (this.state.displayWelcomeScreen) {\n      this.setState({displayWelcomeScreen: false});\n      const event = new CustomEvent('input-click');\n      document.dispatchEvent(event);\n    }\n  }\n\n  render() {\n    let popup = null;\n    if (this.state.displayPopup) {\n        popup = <LanguagesPopup handlePopupDisplay={this.handlePopupDisplay}></LanguagesPopup>\n    }\n    return(\n      <div id=\"search-bar-container\" className={`${this.state.displayWelcomeScreen ? \"search-bar-container-zoom-in\" : \"search-bar-container-zoom-out\"}`}>\n        {popup}\n        <div id=\"search-bar-wrapper\">\n          <div id=\"logo-wrapper\">\n            <img src={LogoText} alt=\"\" id=\"logo\" />\n          </div>\n          <div id=\"lower-search-bar\" className={`${this.state.displayWelcomeScreen ? \"\" : \"lower-search-bar-zoom-out\"}`}>\n            <div id=\"search-bar\" className={`${this.state.displayWelcomeScreen ? \"search-bar-zoom-in\" : \"search-bar-zoom-out\"}`}>\n              <input id=\"search-bar-input-text\" type=\"text\" placeholder=\"Search\" autoComplete=\"off\" ref={this.input}></input>\n              <LanguagesList handlePopupDisplay={this.handlePopupDisplay}></LanguagesList>\n              <button id=\"search-bar-input-submit\" type=\"submit\" >\n                <img src={MagnifyingGlass} alt=\"\" />\n              </button>\n            </div>\n            <SelectedLanguages></SelectedLanguages>\n          </div>\n        </div>\n      </div>\n     \n      \n    )\n  }\n}\n\nexport default SearchBar;","export default __webpack_public_path__ + \"static/media/youtongue.2c5772aa.svg\";","import React from \"react\";\nimport Logo from '../../assets/logo/youtongue.svg';\nimport './placeholder.css'\nclass Header extends React.Component {\n  render() {\n    return(\n      <div id=\"welcome-header-wrapper\">\n        <div id=\"welcome-header\">\n          <div id=\"welcome-header-text-wrapper\">\n            <div id=\"welcome-header-text\">\n              <h1>Looking for YouTube videos with captions ?</h1>\n              <span>Search YouTube videos according to languages you want.</span>\n            </div>\n          </div>\n          <div id=\"welcome-header-logo-wrapper\">\n            <img src={Logo} alt=\"\" id=\"welcome-header-logo\" />\n          </div>\n        </div>\n      </div>\n    )\n  }\n}\n\nexport default Header;","import React, { ReactElement } from 'react';\nimport ResultList from '../resultList/ResultList';\nimport SearchBar from '../searchBar/searchBar';\nimport './app.css'\nimport Context from 'services/Context'; \nimport Placeholder from 'components/placeholder/Placeholder';\n\n\n\ntype GlobalState = {\n  languages_bcp47: string[],\n  loading: boolean,\n  displayWelcomeScreen: boolean\n}\nclass App extends React.Component<any, GlobalState>{\n\n  constructor (props: any) {\n    super(props);\n    this.state = {\n      languages_bcp47: [],\n      loading: false,\n      displayWelcomeScreen: true\n    };\n  }\n\n  componentDidMount(){\n    this.displayWelcomeScreen = this.displayWelcomeScreen.bind(this);\n    this.loadEvents();\n  }\n\n  private loadEvents (): void {\n    document.addEventListener('input-click', () => {\n      this.displayWelcomeScreen(false)\n    });\n  }\n\n  private displayWelcomeScreen(display: boolean) {\n    this.setState({displayWelcomeScreen: display});\n  }\n\n  render() {\n    let resultList = null;\n    let placeholder: ReactElement | null= <Placeholder></Placeholder>;\n    if (!this.state.displayWelcomeScreen) {\n      resultList = <ResultList></ResultList>\n      placeholder = null\n    }\n    return (\n      <div id=\"App\">\n        <Context.Provider value={{languages_bcp47: this.state.languages_bcp47, loading: this.state.loading, displayWelcomeScreen: this.state.displayWelcomeScreen}}>\n          <SearchBar></SearchBar>\n          {placeholder}\n          {resultList}\n        </Context.Provider>\n        \n      </div>\n    );\n  }\n\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './components/app/App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n"],"sourceRoot":""}